#!/usr/bin/python
from mininet.net import Mininet
from mininet.node import RemoteController
from mininet.cli import CLI
from mininet.log import setLogLevel, info

if __name__ == '__main__':
	
	net = Mininet( controller=RemoteController )
	info( "Adicionando o IP do Controller SDN e a porta" )
	net.addController( 'c0',controller=RemoteController,ip='172.17.0.2',port=6653)
	info( 'Add hosts\n' )
	h1 = net.addHost( 'h1', ip='10.0.0.1', netmask='255.255.255.0' )
	h2 = net.addHost( 'h2', ip='10.0.0.2', netmask='255.255.255.0' )
	info( 'Add switch\n' )
	# Create Switch Nodes
	wth = 128
	for i in range(1, wth):
		locals()['s'+str(i)] = net.addSwitch('s'+str(i))

	info( 'Criando os links\n' )
	net.addLink(s1,s2)
	net.addLink(s1,s65)
	net.addLink(s2,s3)
	net.addLink(s2,s34)
	net.addLink(s3,s4)
	net.addLink(s3,s19)
	net.addLink(s4,s5)
	net.addLink(s4,s12)
  	net.addLink(s5,s6)
  	net.addLink(s5,s9)
  	net.addLink(s6,s7)
  	net.addLink(s6,s8)
  	net.addLink(s9,s10)
  	net.addLink(s9,s11)
  	net.addLink(s12,s13)
  	net.addLink(s12,s16)
  	net.addLink(s13,s14)
  	net.addLink(s13,s15)
  	net.addLink(s16,s17)
  	net.addLink(s16,s18)
  	net.addLink(s19,s20)
  	net.addLink(s19,s27)
  	net.addLink(s20,s21)
  	net.addLink(s20,s24)
  	net.addLink(s21,s22)
  	net.addLink(s21,s23)
  	net.addLink(s24,s25)
  	net.addLink(s24,s26)
  	net.addLink(s27,s28)
  	net.addLink(s27,s31)
  	net.addLink(s28,s29)
  	net.addLink(s28,s30)
  	net.addLink(s31,s32)
  	net.addLink(s31,s33)
  	net.addLink(s34,s35)
  	net.addLink(s34,s50)
  	net.addLink(s35,s36)
  	net.addLink(s35,s43)
  	net.addLink(s36,s37)
  	net.addLink(s36,s40)
  	net.addLink(s37,s38)
  	net.addLink(s37,s39)
  	net.addLink(s40,s41)
  	net.addLink(s40,s42)
  	net.addLink(s43,s44)
  	net.addLink(s43,s47)
  	net.addLink(s44,s45)
  	net.addLink(s44,s46)
  	net.addLink(s47,s48)
  	net.addLink(s47,s49)
  	net.addLink(s50,s51)
  	net.addLink(s50,s58)
  	net.addLink(s51,s52)
  	net.addLink(s51,s55)
  	net.addLink(s52,s53)
  	net.addLink(s52,s54)
  	net.addLink(s55,s56)
  	net.addLink(s55,s57)
  	net.addLink(s58,s59)
  	net.addLink(s58,s62)
  	net.addLink(s59,s60)
  	net.addLink(s59,s61)
  	net.addLink(s62,s63)
  	net.addLink(s62,s64)
  	net.addLink(s65,s66)
  	net.addLink(s65,s97)
  	net.addLink(s66,s67)
  	net.addLink(s66,s82)
  	net.addLink(s67,s68)
  	net.addLink(s67,s75)
  	net.addLink(s68,s69)
  	net.addLink(s68,s72)
  	net.addLink(s69,s70)
  	net.addLink(s69,s71)
  	net.addLink(s72,s73)
  	net.addLink(s72,s74)
  	net.addLink(s75,s76)
  	net.addLink(s75,s79)
  	net.addLink(s76,s77)
  	net.addLink(s76,s78)
  	net.addLink(s79,s80)
  	net.addLink(s79,s81)
  	net.addLink(s82,s83)
  	net.addLink(s82,s90)
  	net.addLink(s83,s84)
  	net.addLink(s83,s87)
  	net.addLink(s84,s85)
  	net.addLink(s84,s86)
  	net.addLink(s87,s88)
  	net.addLink(s87,s89)
  	net.addLink(s90,s91)
  	net.addLink(s90,s94)
  	net.addLink(s91,s92)
  	net.addLink(s91,s93)
  	net.addLink(s94,s95)
  	net.addLink(s94,s96)
  	net.addLink(s97,s98)
  	net.addLink(s97,s113)
  	net.addLink(s98,s99)
  	net.addLink(s98,s106)
  	net.addLink(s99,s100)
  	net.addLink(s99,s103)
  	net.addLink(s100,s101)
  	net.addLink(s100,s102)
  	net.addLink(s103,s104)
  	net.addLink(s103,s105)
  	net.addLink(s106,s107)
  	net.addLink(s106,s110)
  	net.addLink(s107,s108)
  	net.addLink(s107,s109)
  	net.addLink(s110,s111)
  	net.addLink(s110,s112)
  	net.addLink(s113,s114)
  	net.addLink(s113,s121)
  	net.addLink(s114,s115)
  	net.addLink(s114,s118)
  	net.addLink(s115,s116)
  	net.addLink(s115,s117)
  	net.addLink(s118,s119)
  	net.addLink(s118,s120)
  	net.addLink(s121,s122)
  	net.addLink(s121,s125)
  	net.addLink(s121,s123)
  	net.addLink(s121,s124)
  	net.addLink(s125,s126)
  	net.addLink(s125,s127)

	net.addLink(h1,s10)
	net.addLink(h2,s114)


	net.start()
	CLI( net )
	net.stop()
